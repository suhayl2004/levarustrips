"use strict";(self.webpackChunklevarus=self.webpackChunklevarus||[]).push([[480],{3480:(_,m,r)=>{r.r(m),r.d(m,{AuthenticationModule:()=>j});var c=r(4710),a=r(9417),u=r(6354),t=r(4438),v=r(5608),f=r(2292),h=r(1626),M=r(5416),p=r(2102),b=r(9631),x=r(177);function P(n,s){1&n&&(t.j41(0,"span"),t.EFF(1,"Please enter email ID"),t.k0s())}function O(n,s){1&n&&(t.j41(0,"mat-label"),t.EFF(1,"Email Id"),t.k0s())}function w(n,s){if(1&n&&(t.j41(0,"mat-label"),t.EFF(1),t.k0s()),2&n){const o=t.XpG(2);t.R7$(),t.JRh(o.confirmedEmail)}}function E(n,s){1&n&&t.nrm(0,"input",11)}function I(n,s){1&n&&(t.j41(0,"mat-error"),t.EFF(1,"Email id is required"),t.k0s())}function y(n,s){1&n&&t.nrm(0,"input",12)}function T(n,s){1&n&&(t.j41(0,"mat-error"),t.EFF(1,"Password is required"),t.k0s())}function k(n,s){if(1&n&&(t.j41(0,"mat-form-field",8),t.DNE(1,O,2,0,"mat-label",4)(2,w,2,1,"mat-label",4)(3,E,1,0,"input",9)(4,I,2,0,"mat-error",4)(5,y,1,0,"input",10)(6,T,2,0,"mat-error",4),t.k0s()),2&n){let o,e;const i=t.XpG();t.R7$(),t.Y8G("ngIf",!i.isEmail),t.R7$(),t.Y8G("ngIf",i.isEmail&&i.confirmedEmail),t.R7$(),t.Y8G("ngIf",!i.isEmail&&!i.confirmedEmail),t.R7$(),t.Y8G("ngIf",null==(o=i.advanceTableForm.get("emailid"))?null:o.hasError("required")),t.R7$(),t.Y8G("ngIf",i.isEmail&&i.confirmedEmail),t.R7$(),t.Y8G("ngIf",null==(e=i.advanceTableForm.get("password"))?null:e.hasError("required"))}}const L=[{path:"",redirectTo:"login",pathMatch:"full"},{path:"login",component:(()=>{class n{constructor(o,e,i,l,d,g){this.fb=o,this.router=e,this.authService=i,this.advanceTableService=l,this.http=d,this._snackBar=g,this.hide=!0,this.showEmailInput=!1,this.isEmail=!1,this.confirmedEmail=""}ngOnInit(){this.advanceTableForm=this.fb.group({emailid:[this.advanceTable?.emailid??"",[a.k0.required]],password:[this.advanceTable?.password??"",[a.k0.required]]})}toggleEmailField(){this.showEmailInput=!0,this.isEmail||(this.advanceTableForm.get("emailid")?.valid?(this.isEmail=!0,this.confirmedEmail=this.advanceTableForm.get("emailid")?.value):console.log("Email is not valid"))}minLengthWithCustomError(o){return e=>e.value&&e.value.length<o?{minlength:!0,message:`Minimum ${o} characters`}:null}maxLengthWithCustomError(o){return e=>e.value&&e.value.length>o?{maxlength:!0}:null}submit(){}onNoClick(){}getUserNameByEmail(o){return console.log(o),this.http.get(this.advanceTableService.API_URL).pipe((0,u.T)(e=>(console.log(e),e.find(i=>i.emailid===o))))}confirmLogIn(){const o=this.advanceTableForm.get("emailid")?.value,e=this.advanceTableForm.get("password")?.value;o&&e&&this.authService.login(o,e).subscribe(i=>{localStorage.setItem("access_token",i.access_token),localStorage.setItem("emailid",o),this.authService.setEmail(o),this.getUserNameByEmail(o).subscribe(d=>{const g=d.uname;localStorage.setItem("uname",g),this.authService.setUserName(g),this._snackBar.open("Login successful!","Close",{duration:3e3,panelClass:["snackbar-success"]}),this.router.navigate(["/dashboard"])},d=>{console.log("Error fetching user data:",d),this._snackBar.open("Error fetching user details","Close",{duration:1e3,panelClass:["snackbar-danger"]})})},i=>{console.log("Login error:",i),this._snackBar.open("Login failed! Enter a valid email or password.","Close",{duration:1e4,panelClass:["snackbar-danger"]})})}static#t=this.\u0275fac=function(e){return new(e||n)(t.rXU(a.ze),t.rXU(c.Ix),t.rXU(v.u),t.rXU(f.G),t.rXU(h.Qq),t.rXU(M.UG))};static#n=this.\u0275cmp=t.VBU({type:n,selectors:[["app-login"]],decls:9,vars:3,consts:[[1,"image-container"],["src","assets/images/user/Loin Page Design.png",1,"background-image"],[1,"register-form",3,"ngSubmit","formGroup"],[1,"wooden-banner",3,"click"],[4,"ngIf"],["class","example-full-width","appearance","outline","subscriptSizing","dynamic",4,"ngIf"],[1,"arrow"],[2,"background","none","display","none",3,"click"],["appearance","outline","subscriptSizing","dynamic",1,"example-full-width"],["matInput","","formControlName","emailid",4,"ngIf"],["placeholder","Enter your password","matInput","","formControlName","password","type","password",4,"ngIf"],["matInput","","formControlName","emailid"],["placeholder","Enter your password","matInput","","formControlName","password","type","password"]],template:function(e,i){1&e&&(t.j41(0,"body")(1,"div",0),t.nrm(2,"img",1),t.j41(3,"form",2),t.bIt("ngSubmit",function(){return i.confirmLogIn()}),t.j41(4,"div",3),t.bIt("click",function(){return i.toggleEmailField()}),t.DNE(5,P,2,0,"span",4)(6,k,7,6,"mat-form-field",5),t.j41(7,"div",6)(8,"button",7),t.bIt("click",function(){return i.confirmLogIn()}),t.k0s()()()()()()),2&e&&(t.R7$(3),t.Y8G("formGroup",i.advanceTableForm),t.R7$(2),t.Y8G("ngIf",!i.showEmailInput),t.R7$(),t.Y8G("ngIf",i.showEmailInput))},dependencies:[a.qT,a.me,a.BC,a.cb,a.j4,a.JD,p.rl,p.nJ,p.TL,b.fg,x.bT],styles:["body[_ngcontent-%COMP%]{font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,sans-serif;margin:0;padding:0;display:flex;justify-content:center;align-items:center;background-color:#f5f5f7;overflow-x:hidden}.container1[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;height:100%;width:100%}.login-box[_ngcontent-%COMP%]{background-color:#fff;border-radius:40px;box-shadow:0 10px 50px #0000001a;padding:40px;text-align:center;width:580px;height:550px;max-width:90%;position:relative}.login-box[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:40px}.apple-logo[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:160px;margin-bottom:0}.top-images[_ngcontent-%COMP%]{position:absolute;width:100%;top:0;display:flex;justify-content:space-between;padding:20px}.top-left[_ngcontent-%COMP%]{height:20px;margin-left:20px}.top-right[_ngcontent-%COMP%]{height:55px;margin-right:20px}h1[_ngcontent-%COMP%]{font-size:30px;font-weight:500;margin-bottom:30px}.input-group[_ngcontent-%COMP%]{display:flex;align-items:center;border:1px solid #d1d1d6;border-radius:10px;overflow:hidden;margin-bottom:20px;transition:all .3s ease}.input-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus{border-color:#0071e3;box-shadow:0 0 5px #0071e380;height:30px;border:2px solid #0071e3}.input-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]::placeholder{transition:all .3s ease;transform-origin:left center}.input-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus::placeholder{transform:translateY(-15px) scale(.8);font-size:12px;color:#0071e3}.input-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{flex:1;border:none;padding:10px 15px;font-size:18px;outline:none;width:100%;transition:height .3s ease}.arrow-btn[_ngcontent-%COMP%]{background-color:#f5f5f7;color:#0071e3;border:none;padding:10px 15px;cursor:pointer;display:flex;align-items:center;justify-content:center;border-left:1px solid #d1d1d6;transition:height .3s ease,padding .3s ease}.arrow-btn[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:24px;height:24px}.arrow-btn[_ngcontent-%COMP%]:hover{background-color:#e5e5e5}.input-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus ~ .arrow-btn[_ngcontent-%COMP%]{height:50px;padding:15px 20px}.form-actions[_ngcontent-%COMP%]{display:flex;justify-content:space-between;width:100%;margin-top:20px;position:absolute;bottom:20px;left:0;right:0}.form-actions[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#007bff;text-decoration:none;font-size:14px;margin:0 auto}.form-actions[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{text-decoration:underline}.btn[_ngcontent-%COMP%]{padding:10px 20px;border:none;border-radius:5px;background-color:#0071e3;color:#fff;cursor:pointer;font-size:16px}.btn[_ngcontent-%COMP%]:hover{background-color:#0056b3}.flash-messages[_ngcontent-%COMP%]{margin-bottom:20px}.alert[_ngcontent-%COMP%]{padding:15px;margin-bottom:20px;border:1px solid transparent;border-radius:4px}.alert-success[_ngcontent-%COMP%]{color:#3c763d;background-color:#dff0d8;border-color:#d6e9c6}.alert-error[_ngcontent-%COMP%]{color:#a94442;background-color:#f2dede;border-color:#ebccd1}.wooden-banner[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;background-color:#deb887;border:2px solid #8b4513;border-radius:5px;font-family:Arial,sans-serif;font-size:18px;padding:10px 20px;box-shadow:2px 2px 5px #0000004d;width:340px;cursor:pointer;transition:all .3s ease}.wooden-banner[_ngcontent-%COMP%]:hover{box-shadow:3px 3px 10px #00000080}.wooden-banner[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{margin-right:20px}.arrow[_ngcontent-%COMP%]{width:0;height:0;border-top:15px solid transparent;border-bottom:15px solid transparent;border-left:25px solid #8b4513}.mat-form-field[_ngcontent-%COMP%]{flex-grow:1;margin-left:10px}.image-container[_ngcontent-%COMP%]{position:relative;width:100%;height:100vh}.background-image[_ngcontent-%COMP%]{width:100%;height:100vh}.register-form[_ngcontent-%COMP%]{position:absolute;top:89%;left:87%;transform:translate(-50%,-30%);width:400px;padding:20px;border-radius:10px}.wooden-banner[_ngcontent-%COMP%]{cursor:pointer}.example-full-width[_ngcontent-%COMP%]{width:100%}.arrow[_ngcontent-%COMP%]{cursor:pointer;margin-top:0}"]})}return n})()}];let F=(()=>{class n{static#t=this.\u0275fac=function(e){return new(e||n)};static#n=this.\u0275mod=t.$C({type:n});static#e=this.\u0275inj=t.G2t({imports:[c.iI.forChild(L),c.iI]})}return n})();var C=r(5248),G=r(8269);let j=(()=>{class n{static#t=this.\u0275fac=function(e){return new(e||n)};static#n=this.\u0275mod=t.$C({type:n});static#e=this.\u0275inj=t.G2t({providers:[f.G],imports:[F,a.YN,a.X1,p.RG,b.fS,C.GC,x.MD,G.h,C.Gg]})}return n})()},8269:(_,m,r)=>{r.d(m,{h:()=>u});var c=r(6255),a=r(4438);let u=(()=>{class t{static#t=this.\u0275fac=function(h){return new(h||t)};static#n=this.\u0275mod=a.$C({type:t});static#e=this.\u0275inj=a.G2t({imports:[c.G]})}return t})()}}]);